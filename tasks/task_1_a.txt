1. Создать скидку на товар - установить фиксированную цену на товар (администарирование - магазин - скидки на товар - скидки на товар)
2. В шаблоне компонента перебрать товары, отсортировав их по цене.
3. Получить количество товаров, к которым надо применить скидку.
4. Обновить корзину, применив скидку к необходимым товарам.